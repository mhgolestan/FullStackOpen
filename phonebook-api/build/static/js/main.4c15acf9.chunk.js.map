{"version":3,"sources":["services/persons.js","components/Person.js","components/Filter.js","components/PersonForm.js","App.js","index.js"],"names":["baseurl","axios","get","then","response","data","newPerson","post","request","deletedPersonId","delete","id","put","Person","name","number","handleDelete","onClick","Filter","filterNames","handleFilterNames","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterNames","text","setMessage","useEffect","personService","initialPersons","personToShow","filter","person","includes","event","target","preventDefault","personObject","checkName","some","oldPerson","find","window","confirm","editedPersonData","map","concat","setTimeout","remainedPersons","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4c15acf9.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseurl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseurl).then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  return axios.post(baseurl, newPerson).then((request) => request.data);\n};\n\nconst remove = (deletedPersonId) => {\n  return axios.delete(`${baseurl}/${deletedPersonId}`);\n};\n\nconst edit = (id, newPerson) => {\n  return axios\n    .put(`${baseurl}/${id}`, newPerson)\n    .then((response) => response.data);\n};\n\nexport default { getAll, create, remove, edit };\n","import React from \"react\";\n\nconst Person = ({ name, number, handleDelete }) => {\n  return (\n    <div>\n      {name} {number} <button onClick={handleDelete}>delete</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\n\nconst Filter = ({ filterNames, handleFilterNames }) => {\n  return (\n    <div>\n      Filter shown with\n      <input value={filterNames} onChange={handleFilterNames} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import Reeact from \"react\";\n\nconst PersonForm = ({\n  addName,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addName}>\n        <div>\n          name:\n          <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React, { useEffect, useState } from \"react\";\nimport personService from \"./services/persons\";\n\nimport Person from \"./components/Person\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"New name ...\");\n  const [newNumber, setNewNumber] = useState(\"New number ...\");\n  const [filterNames, setFilterNames] = useState(\"\");\n  const [message, setMessage] = useState([{ text: \"\", type: \"\" }]);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    const checkName = (person) => person.name === personObject.name;\n    if (!persons.some(checkName)) {\n      personService.create(personObject).then((personObject) => {\n        setPersons(persons.concat(personObject));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage({\n          text: `Added ${personObject.name}`,\n          type: \"add\",\n        });\n        setTimeout(() => {\n          setMessage({ text: \"\", type: \"\" });\n        }, 3000);\n      });\n    } else {\n      const oldPerson = persons.find(checkName);\n      if (window.confirm(`${oldPerson.name} exists`)) {\n        personService\n          .edit(oldPerson.id, personObject)\n          .then((editedPersonData) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== oldPerson.id ? person : editedPersonData\n              )\n            );\n          });\n      }\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(\"Delete for real?\")) {\n      personService\n        .remove(id)\n        .then((response) => {\n          const remainedPersons = persons.filter((person) => person.id !== id);\n          setPersons(remainedPersons);\n        })\n        .catch((error) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setMessage({\n            text: `Information of '${name}' was already deleted from server`,\n            type: \"error\",\n          });\n          setTimeout(() => {\n            setMessage({ text: \"\", type: \"\" });\n          }, 3000);\n        });\n    }\n  };\n\n  const personToShow =\n    filterNames === \"\"\n      ? persons\n      : persons.filter((person) => person.name.includes(filterNames));\n\n  const handleFilterNames = (event) => {\n    setFilterNames(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      {/*<Notification\n        message={message}\n        className={\n          message.type === \"add\" ? \"add-notif-class\" : \"error-notif-class\"\n        }\n      />*/}\n\n      <Filter filterNames={filterNames} handleFilterNames={handleFilterNames} />\n\n      <h2>Add new contact</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      {personToShow.map((person) => (\n        <Person\n          key={person.id}\n          id={person.id}\n          name={person.name}\n          number={person.number}\n          handleDelete={() => handleDelete(person.id, person.name)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}