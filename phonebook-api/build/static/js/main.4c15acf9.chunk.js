(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t(14),r=t.n(a),i=t(3),u=t(4),o=t.n(u),d="/api/persons",s=function(){return o.a.get(d).then((function(e){return e.data}))},b=function(e){return o.a.post(d,e).then((function(e){return e.data}))},j=function(e){return o.a.delete("".concat(d,"/").concat(e))},f=function(e,n){return o.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},l=t(0),h=function(e){var n=e.name,t=e.number,c=e.handleDelete;return Object(l.jsxs)("div",{children:[n," ",t," ",Object(l.jsx)("button",{onClick:c,children:"delete"})]})},m=function(e){var n=e.filterNames,t=e.handleFilterNames;return Object(l.jsxs)("div",{children:["Filter shown with",Object(l.jsx)("input",{value:n,onChange:t})]})},O=function(e){var n=e.addName,t=e.newName,c=e.handleNameChange,a=e.newNumber,r=e.handleNumberChange;return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:n,children:[Object(l.jsxs)("div",{children:["name:",Object(l.jsx)("input",{value:t,onChange:c})]}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{value:a,onChange:r})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})})},v=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)("New name ..."),u=Object(i.a)(r,2),o=u[0],d=u[1],v=Object(c.useState)("New number ..."),x=Object(i.a)(v,2),p=x[0],N=x[1],w=Object(c.useState)(""),g=Object(i.a)(w,2),y=g[0],C=g[1],k=Object(c.useState)([{text:"",type:""}]),S=Object(i.a)(k,2),D=(S[0],S[1]);Object(c.useEffect)((function(){s().then((function(e){a(e)}))}),[]);var F=""===y?t:t.filter((function(e){return e.name.includes(y)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(m,{filterNames:y,handleFilterNames:function(e){C(e.target.value)}}),Object(l.jsx)("h2",{children:"Add new contact"}),Object(l.jsx)(O,{addName:function(e){e.preventDefault();var n={name:o,number:p},c=function(e){return e.name===n.name};if(t.some(c)){var r=t.find(c);window.confirm("".concat(r.name," exists"))&&f(r.id,n).then((function(e){a(t.map((function(n){return n.id!==r.id?n:e})))}))}else b(n).then((function(e){a(t.concat(e)),d(""),N(""),D({text:"Added ".concat(e.name),type:"add"}),setTimeout((function(){D({text:"",type:""})}),3e3)}))},newName:o,handleNameChange:function(e){d(e.target.value)},newNumber:p,handleNumberChange:function(e){N(e.target.value)}}),Object(l.jsx)("h2",{children:"Numbers"}),F.map((function(e){return Object(l.jsx)(h,{id:e.id,name:e.name,number:e.number,handleDelete:function(){return n=e.id,c=e.name,void(window.confirm("Delete for real?")&&j(n).then((function(e){var c=t.filter((function(e){return e.id!==n}));a(c)})).catch((function(e){a(t.filter((function(e){return e.id!==n}))),D({text:"Information of '".concat(c,"' was already deleted from server"),type:"error"}),setTimeout((function(){D({text:"",type:""})}),3e3)})));var n,c}},e.id)}))]})};t(38);r.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4c15acf9.chunk.js.map